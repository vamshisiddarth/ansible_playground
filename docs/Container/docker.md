### Playbook
We will now proceed with installation of Docker and Docker Compose on the remote instance using the roles. 

Add the docker and docker-compose roles to the playbook as shown below.

```yaml
- name: dev bastion
  hosts: tag_project_dev_bastion
  remote_user: ubuntu
  become: true
  roles:
    - { role: base,           tags: [ 'base'           ] }
    - { role: monit,          tags: [ 'monit'          ] }
    - { role: docker,         tags: [ 'docker'         ] }
    - { role: docker-compose, tags: [ 'docker-compose' ] }
```

### Execution
To execute the playbook, run the below command. Wait until the execution is completed and check for any errors.

!!! tip ""
    Since we have already executed the `base` and `monit` roles, we can execute the docker and docker-compose roles explicitly using the tags as shown below. 

```sh
$ ansible-playbook dev-bastion.yml --tags="docker,docker-compose"
```

??? Output
    You should find the output similar to below.
    ```
    PLAY [dev bastion] *****************************************************************************************************************************************************************************************************
    
    TASK [check whether docker exists] *************************************************************************************************************************************************************************************
    Wednesday 27 January 2021  18:11:17 +0400 (0:00:00.124)       0:00:00.124 ***** 
    ok: [172.16.10.120]
    
    TASK [copy docker official install script] *****************************************************************************************************************************************************************************
    Wednesday 27 January 2021  18:11:18 +0400 (0:00:00.979)       0:00:01.103 ***** 
    ok: [172.16.10.120]
    
    TASK [docker : run the script] *****************************************************************************************************************************************************************************************
    Wednesday 27 January 2021  18:11:21 +0400 (0:00:03.486)       0:00:04.589 ***** 
    changed: [172.16.10.120]
    
    TASK [install docker] **************************************************************************************************************************************************************************************************
    Wednesday 27 January 2021  18:11:47 +0400 (0:00:26.237)       0:00:30.827 ***** 
    ok: [172.16.10.120]
    
    TASK [configure docker daemon.json] ************************************************************************************************************************************************************************************
    Wednesday 27 January 2021  18:11:49 +0400 (0:00:01.949)       0:00:32.777 ***** 
    ok: [172.16.10.120]
    
    TASK [docker : service] ************************************************************************************************************************************************************************************************
    Wednesday 27 January 2021  18:11:52 +0400 (0:00:03.010)       0:00:35.787 ***** 
    skipping: [172.16.10.120]
    
    TASK [ensure "docker" group present] ***********************************************************************************************************************************************************************************
    Wednesday 27 January 2021  18:11:52 +0400 (0:00:00.037)       0:00:35.825 ***** 
    ok: [172.16.10.120]
    
    TASK [add users into "docker"] *****************************************************************************************************************************************************************************************
    Wednesday 27 January 2021  18:11:54 +0400 (0:00:01.194)       0:00:37.019 ***** 
    
    TASK [start docker] ****************************************************************************************************************************************************************************************************
    Wednesday 27 January 2021  18:11:54 +0400 (0:00:00.036)       0:00:37.055 ***** 
    ok: [172.16.10.120]
    
    TASK [docker-compose : Installing packages] ****************************************************************************************************************************************************************************
    Wednesday 27 January 2021  18:11:55 +0400 (0:00:01.522)       0:00:38.578 ***** 
    ok: [172.16.10.120] => (item=python-setuptools)
    
    TASK [docker-compose : remove python modules for docker] ***************************************************************************************************************************************************************
    Wednesday 27 January 2021  18:11:57 +0400 (0:00:01.674)       0:00:40.252 ***** 
    ok: [172.16.10.120]
    
    TASK [docker-compose : install certain python modules for docker] ******************************************************************************************************************************************************
    Wednesday 27 January 2021  18:11:59 +0400 (0:00:01.639)       0:00:41.892 ***** 
    changed: [172.16.10.120] => (item={'name': 'docker-compose', 'version': '1.27.4'})
    changed: [172.16.10.120] => (item={'name': 'docker', 'version': '4.4.0'})
    
    PLAY RECAP *************************************************************************************************************************************************************************************************************
    172.16.10.120              : ok=10   changed=2    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
    
    Wednesday 27 January 2021  18:12:07 +0400 (0:00:08.356)       0:00:50.249 ***** 
    =============================================================================== 
    docker : run the script ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 26.24s
    docker-compose : install certain python modules for docker ------------------------------------------------------------------------------------------------------------------------------------------------------ 8.36s
    copy docker official install script ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 3.49s
    configure docker daemon.json ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ 3.01s
    install docker -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 1.95s
    docker-compose : Installing packages ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 1.67s
    docker-compose : remove python modules for docker --------------------------------------------------------------------------------------------------------------------------------------------------------------- 1.64s
    start docker ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 1.52s
    ensure "docker" group present ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 1.19s
    check whether docker exists ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 0.98s
    docker : service ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ 0.04s
    add users into "docker" ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 0.04s
    ```